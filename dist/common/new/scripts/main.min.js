function isElementInViewport(a){var b=$(a),c=-1!=navigator.userAgent.toLowerCase().indexOf("webkit")?"body":"html",d=$(c).scrollTop(),e=d+$(window).height(),f=Math.round(b.offset().top),g=f+b.height();return f<e&&g>d}function checkAnimation(){$(".loaded-block, .span-yellow").each(function(){isElementInViewport($(this))&&$(this).addClass("show-now")})}function declOfNum(a,b){return cases=[2,0,1,1,1,2],b[a%100>4&&a%100<20?2:cases[a%10<5?a%10:5]]}function toPrice(a){return String(a).replace(/(\d)(?=(\d{3})+([^\d]|$))/g,"$1 ")}function toPercent(a,b){return"("+Math.floor(100*a/b)+"%)"}$(window).load(function(){$(window).scrollTop(0)}),$(window).load(function(){$("#bgvid").length&&document.getElementById("bgvid").play(),$("#bgvid-intro").length&&document.getElementById("bgvid-intro").play(),$("#bannerVideo").length&&document.getElementById("banner-video").play()}),$(document).ready(function(){$("html").flowtype({minFont:11,maxFont:16,fontRatio:94})}),$("a.likes__share-link").click(function(a){a.preventDefault(),$(".popup-share").toggleClass("popup-share_visible")}),$("body").on("click",function(a){0!==$(a.target).closest(".likes__share").length||$(a.target).is(".likes__share-link")||$(".popup-share").removeClass("popup-share_visible")}),$(window).load(function(){setTimeout(function(){$("body").removeClass("loading"),$(".card-image-transform").length&&$(".card-image-transform").addClass("card-image-transform--start")},1500)}),$(window).load(function(){checkAnimation(),$(window).scroll(function(){checkAnimation()})});var player=$("video"),hasReachedUserExperience=!1;$(".welcome-slider-2").length&&$(window).scroll(function(){isElementInViewport($(".welcome-slider-2"))&&!hasReachedUserExperience&&(hasReachedUserExperience=!0,player.get(1).play(),player.get(2).play())}),$(".header__hamburger").click(function(){$("html, body").removeClass("popup-numbers-active popup-links-active"),$("html, body").toggleClass("show-menu-active")}),$(".menu-wrapper__header").click(function(){$("html, body").removeClass(),$("html, body").addClass("show-menu-active")}),$(".sec-menu--mobile").click(function(){$("html, body").removeClass("popup-numbers-active show-menu-active"),$("html, body").toggleClass("popup-links-active")}),$(".ring").click(function(){$("html, body").removeClass("popup-links-active show-menu-active"),$("html, body").toggleClass("popup-numbers-active")}),$(".main-menu__link").click(function(){$("html, body").removeClass("show-menu-active")}),$(".popup-numbers").on("click",function(a){a.target===this&&$("html, body").toggleClass("popup-numbers-active")}),$(".popup-links").on("click",function(a){a.target===this&&$("html, body").toggleClass("popup-links-active")}),$(".header__menu_background").on("click",function(a){a.target===this&&$("html, body").toggleClass("show-menu-active")}),$(".mortgage-intro").width(),$(".conditions .load-more").on("click",function(){$(".conditions__row--hide").toggleClass("conditions__row--hide conditions__row--show")}),$(".popup-tarif, .popup-tarif__close-svg").on("click",function(a){a.target===this&&($("body").toggleClass("show-popup1"),$(".scroll-header").toggleClass("showHeader"))}),$(".span-tooltip").on("click",function(a){1!==$(event.target).closest(".span-tooltip__inner").length&&$(".span-tooltip").toggleClass("show-tooltip")}),$("body").on("click",function(a){1===$(a.target).closest(".span-tooltip__inner").length||$(a.target).is(".span-tooltip")||$(".span-tooltip").removeClass("show-tooltip")}),$(".action-share").click(function(a){a.preventDefault(),$(".popup-tarif .popup-share").toggleClass("popup-share_visible-p")}),$("body").on("click",function(a){1===$(a.target).closest(".popup-share").length||$(a.target).is(".action-share")||$(".popup-tarif .popup-share").removeClass("popup-share_visible-p")}),$(".action-mail").click(function(a){a.preventDefault(),$(".popup-tarif .tooltip-mail").toggleClass("tooltip-mail_visible")}),$("body").on("click",function(a){1===$(a.target).closest(".tooltip-mail").length||$(a.target).is(".action-mail")||$(".popup-tarif .tooltip-mail").removeClass("tooltip-mail_visible")});var cSlider=$(".input-slider");cSlider.each(function(){$(this).attr("data-current-value",$(this).attr("data-sl-value")),$(this).slider({range:"min",min:$(this).data("sl-min"),max:$(this).data("sl-max"),value:$(this).data("sl-value"),step:$(this).data("sl-step")})}),$(".input-select").length&&$(".input-select").each(function(){$(this).selectmenu()}),$("#calc-input-period").length&&$("#calc-input-period").inputmask({alias:"decimal",showMaskOnHover:!1,showMaskOnFocus:!1,groupSeparator:" ",radixPoint:".",autoGroup:!0,rightAlign:!1,min:0,max:55,suffix:" "+declOfNum($(this),["год","года","лет"])}),$("#sl-period").length&&$("#sl-period").on("slide",function(a,b){$(this).parent().find("input").val(b.value),$(this).attr("data-current-value",b.value),$("#calc-input-period").inputmask({suffix:" "+declOfNum(b.value,["год","года","лет"])})}),$("#sl-period").length&&$("#sl-period").on("slidestop",function(a,b){$("#price-num").numerator({duration:500,delimiter:" ",rounding:2,toValue:parseInt($("#sl-price").attr("data-current-value"))/(12*parseInt(b.value))})}),$("#sl-period").length&&$("#sl-price").on("slide",function(a,b){$(this).parent().find("input").val(b.value),$(this).attr("data-current-value",b.value)}),$("#sl-price").length&&$("#sl-price").on("slidestop",function(a,b){$("#price-num").numerator({duration:500,delimiter:" ",rounding:2,toValue:parseInt(b.value)/parseInt(12*$("#sl-period").data("current-value"))})}),$("#sl-price").length&&$("#sl-deposit").on("slide",function(a,b){$(this).parent().find("input").val(b.value),$(this).attr("data-current-value",b.value)}),$("#price-num").length&&$("#price-num").numerator({toValue:parseInt($("#sl-price").attr("data-current-value"))/parseInt(12*$("#sl-period").attr("data-current-value")),duration:500,delimiter:" ",rounding:2}),$("#price-num").length&&$("#calc-input-deposit").inputmask({alias:"decimal",showMaskOnHover:!1,showMaskOnFocus:!1,groupSeparator:" ",radixPoint:".",autoGroup:!0,rightAlign:!1,min:1,max:999999999}),$("#price-num").length&&$("#calc-input-price").inputmask({alias:"decimal",showMaskOnHover:!1,showMaskOnFocus:!1,groupSeparator:" ",radixPoint:".",autoGroup:!0,rightAlign:!1,min:0,max:999999999}),$(".scroll-header").length&&$(window).scroll(function(){var a=$(window).scrollTop(),b=$("#tab-container-1").height(),c=$(window).height(),d=$("#tab-container-1").offset().top,e=(a-d)/(b-c)*1;e>1&&(e=1),e<0&&(e=0),$(".scroll-line").css("transform","scaleX("+e+")"),a>d?$(".scroll-header").addClass("showHeader"):$(".scroll-header").removeClass("showHeader")}),$(".scroll-up a").click(function(){return $("html, body").animate({scrollTop:$($(this).attr("href")).offset().top},500),!1});var $menuItems=$(".main-menu li");$menuItems.click(function(a){a.preventDefault();var b=$menuItems.index($(this))+1;$("body").removeClass(),$(".main-menu li a").removeClass("link--active"),$(".main-menu li:nth-child("+b+") a").addClass("link--active"),$("body").addClass("show--site-menu"),$("body").addClass("show--site-menu-"+b);var c=$("#menu"+b).height();$(".site-menu").height(c)}),$(".menu-button__container").click(function(a){a.preventDefault(),$(this).find(".menu-button__container--click").addClass("show-share-menu")}),$("body").on("click",function(a){0!==$(a.target).closest(".menu-button__container").length||$(a.target).is(".menu-button__container")||$(".menu-button__container--click").removeClass("show-share-menu")}),$(".Preloader-b").click(function(){$("body").removeClass()}),$(".card-filter__content.filter--close").on("click",function(){$(this).addClass("filter--open"),$(this).removeClass("filter--close")});var $results=$(".mortgage__block"),$checks=$(':checkbox[name^="category"]');$checks.change(function(){var a=$checks.filter(":checked");if($(".mortgage__blocks_hidden").css({display:"block",opacity:"1"}),$(".load-more").hide(),!a.length)return void $results.show().addClass("filter-show");var b=$.map(a,function(a){return a.value});$results.removeClass("filter-show").hide().filter(function(){var a=$(this).data("category").split(" ");return $.grep(b,function(b){return $.inArray(b,a)>-1}).length===b.length}).show().addClass("filter-show"),$results.length}),$("#bannerVideo video").on("timeupdate",function(){$("#bannerVideoProgress").css("transform","scaleX("+this.currentTime/this.duration+")")}).on("ended",function(){setTimeout(function(){$("#bannerVideo").addClass("banner--hide")},500)}),$(".b-card-list").length>0&&($(window).resize(function(){$(window).width()<1e3?$(".b-card-list__slider.slick-initialized").slick("unslick"):$(".b-card-list").each(function(){var a=$(this);if(!a.find(".b-card-list__slider").is(".slick-initialized")){a.find(".b-card-list__slider").slick({variableWidth:!0,infinite:!1,slidesToScroll:1,slidesToShow:2,prevArrow:a.find(".slider-prev"),nextArrow:a.find(".slider-next")})}})}),$(window).resize()),$(".conditions--tarif").length&&$(".currency--exist").on("click",function(){$(this).parent().find(".currency--active").removeClass("currency--active");var a=$(this).data("currency");$(this).addClass("currency--active"),$(".col-currency").not(".conditions__row--currency .col-currency").hide(),$(".currency--"+a).show()}),$("input[data-mask]").length&&$("input[data-mask]").inputmask(),$("input[data-jq='datepicker']").length&&$("input[data-jq='datepicker']").datepicker($.extend({inline:!0,changeYear:!0,changeMonth:!0,showOtherMonths:!0},$.datepicker.regional.ru));